<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Legofit: booma</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Legofit
   </div>
   <div id="projectbrief">infers population history from nucleotide site patterns.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">booma </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Bootstrap model averaging</p>
<dl class="section author"><dt>Author</dt><dd>Alan R. Rogers and Daniel R. Tabin </dd></dl>
<h1 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
<span class="tt">booma</span>: bootstrap model averaging</h1>
<p>Bootstrap model averaging was proposed by Buckland et al (Biometrics, 53(2):603-618). It can be used with weights provided by any method of model selection, including <a class="el" href="bepe.html">bepe</a> and <a class="el" href="clic.html">clic</a>. Model selection is applied to the real data and also to a set of bootstrap replicates. The weight, <picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$w_i$" src="form_0.png" width="14" height="9"/></picture> of the i'th model is the fraction of these data sets for which the i'th model wins. In other words, it is the fraction of data sets for which the i'th model has the smallest information criterion.</p>
<p>The model-averaged estimator of a parameter, <picture><source srcset="form_1_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta$" src="form_1.png" width="6" height="10"/></picture>, is the average across models, weighted by <picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$w_i$" src="form_0.png" width="14" height="9"/></picture>, of the model-specific estimates of <picture><source srcset="form_1_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta$" src="form_1.png" width="6" height="10"/></picture>. Models in which <picture><source srcset="form_1_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\theta$" src="form_1.png" width="6" height="10"/></picture> does not appear are omitted from the weighted average.</p>
<p>To construct confidence intervals, we average across models within each bootstrap replicate to obtain a bootstrap distribution of model-averaged estimates.</p>
<p>Usage: booma &lt;m1.msc&gt; ... &lt;mK.msc&gt; -F &lt;m1.flat&gt; ... &lt;mK.flat&gt;</p>
<p>Here, the "mX" arguments refer to model "X". The "msc" suffix stands for "model selection criterion". There are currently two options: <a class="el" href="bepe.html">bepe</a> and <a class="el" href="clic.html">clic</a>. Thus, the first command-line argument might look like either "m1.bepe" or "m1.clic".</p>
<p>In either case, the "msc" files consist (apart from sharp-delimited comments) of two columns. The first column gives the model selection criterion, and the second column names the data file to which that criterion refers. The first row should refer to the real data and the remaining rows to bootstrap replicates. Model selection criteria are defined so that low numbers indicate preferred models. I will refer to these numbers as "badness" values.</p>
<p>After the <span class="tt">-F</span> argument comes a list of files, each of which can be generated by <a class="el" href="flatfile.html">flatfile.py</a>. There must be a <span class="tt">.flat</span> file for each model, so the number of <span class="tt">.flat</span> files should equal the number of <span class="tt">.bepe</span> files. The first row of a <span class="tt">.flat</span> file is a header and consists of column labels. Each column refers to a different parameter, and the column labels are the names of these parameters. The various <span class="tt">.flat</span> files need not agree about the number of parameters or about the order of the parameters they share. But shared parameters must have the same name in each <span class="tt">.flat</span> file.</p>
<p>After the header, each row in a <span class="tt">.flat</span> file refers to a different data set. The first row after the header refers to the real data. Each succeeding row refers to a bootstrap replicate. The number of rows (excluding comments and the header) should agree with the numbers of rows in the <span class="tt">.bepe</span> or <span class="tt">.clic</span> files.</p>
<p>In all types of input files, comments begin with a sharp character and are ignored.</p>
<p>When <span class="tt">booma</span> runs, the first step is to calculate model weights, <picture><source srcset="form_2_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$w_{i}$" src="form_2.png" width="14" height="9"/></picture>, where <picture><source srcset="form_3_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$i$" src="form_3.png" width="5" height="9"/></picture> runs across models. The value of <picture><source srcset="form_2_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$w_{i}$" src="form_2.png" width="14" height="9"/></picture> is the fraction data sets (i.e. of rows in the <span class="tt">.bepe</span> or <span class="tt">.clic</span> files) for which <picture><source srcset="form_3_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$i$" src="form_3.png" width="5" height="9"/></picture> is the best model (i.e. the one with the lowest badness value. If the best score is shared by several models, they receive equal weights.</p>
<p>In the next step, <span class="tt">booma</span> averages across models to obtain a model-averaged estimate of each parameter. This is done separately for each data set: first for the real data and then for each bootstrap replicate. Some parameters may be missing from some models. In this case, the average runs only across models that include the parameter, and the weights are re-normalized so that they sum to 1 within this reduced set of models. If a parameter is present only in models with weight zero, its model-averaged value is undefined and prints as "nan" (not a number).</p>
<p>Finally, the program uses the bootstrap distribution of model-averaged parameter estimates to construct a 95% confidence interval for each parameter.</p>
<p>The program produces two output files. The first of these is written to standard output and has the same form as the output of <a class="el" href="bootci.html">bootci.py</a>. The first column consists of parameter names and the 2nd of model-averaged parameter estimates. The 3rd and 4th columns are the lower and upper bounds of the confidence intervals.</p>
<p>The program also writes a file in the format of `ref flatfile "flatfile.py". There is a header listing parameter labels. After the header, row <em>i</em> gives the model-averaged estimate of each parameter for the *i*th bootstrap replicate.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2018, Alan R. Rogers <a href="#" onclick="location.href='mai'+'lto:'+'rog'+'er'+'s@a'+'nt'+'hro'+'.u'+'tah'+'.e'+'du'; return false;">roger<span class="obfuscator">.nosp@m.</span>s@an<span class="obfuscator">.nosp@m.</span>thro.<span class="obfuscator">.nosp@m.</span>utah<span class="obfuscator">.nosp@m.</span>.edu</a>. This file is released under the Internet Systems Consortium License, which can be found in file "LICENSE". </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on <span class="timestamp"></span> for Legofit by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
